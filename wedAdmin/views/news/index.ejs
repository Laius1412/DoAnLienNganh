<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="text-primary">Danh s√°ch b√†i vi·∫øt</h2>
    <a href="/news/create" class="btn btn-success">+ Th√™m m·ªõi</a>
  </div>

  <div class="table-responsive">
    <table class="table table-bordered table-hover align-middle">
      <thead class="table-success">
        <tr>
          <th scope="col">Ti√™u ƒë·ªÅ</th>
          <th scope="col">·∫¢nh</th>
          <th scope="col">N·ªôi dung</th>
          <th scope="col">Ng√†y t·∫°o</th>
          <th class="text-center">T√°c v·ª•</th>
        </tr>
      </thead>
      <tbody>
        <% news.forEach(item => { %>
          <tr>
           <td style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
              <%= item.titles %>
            </td>


            <td>
              <img src="<%= item.Img %>" alt="·∫¢nh b√†i vi·∫øt"
                   style="width: 100px; height: auto; object-fit: cover;" class="img-thumbnail">
            </td>
            <td style="max-width: 300px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
              <%- item.contents %>
            </td>
            <td><%= new Date(item.createAt._seconds * 1000).toLocaleDateString('vi-VN') %></td>
            <td class="text-center">
              <div class="dropdown">
                <button class="btn btn-link" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="bi bi-three-dots-vertical"></i>
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><a class="dropdown-item" href="/news/view/<%= item.id %>">üëÅÔ∏è Xem chi ti·∫øt</a></li>
                  <li><a class="dropdown-item" href="/news/edit/<%= item.id %>">‚úèÔ∏è S·ª≠a</a></li>
                  <li>
                    <form action="/news/delete/<%= item.id %>" method="POST"
                          onsubmit="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a b√†i vi·∫øt n√†y?');">
                      <button class="dropdown-item text-danger" type="submit">üóëÔ∏è X√≥a</button>
                    </form>
                  </li>
                </ul>
              </div>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
