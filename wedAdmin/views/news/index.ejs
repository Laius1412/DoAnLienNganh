<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="text-primary fw-bold">
      <i class="bi bi-newspaper me-2"></i>Danh sách bài viết
    </h2>
    <a href="/news/create" class="btn btn-success px-4 py-2 rounded-3 shadow">
      <i class="bi bi-plus-circle me-1"></i>Thêm mới
    </a>
  </div>

  <div class="table-responsive rounded-4 shadow">
    <table class="table table-hover align-middle table-bordered border-light mb-0">
      <thead class="table-success text-center">
        <tr>
          <th scope="col"> Tiêu đề</th>
          <th scope="col"> Ảnh</th>
          <th scope="col"> Nội dung</th>
          <th scope="col"> Ngày tạo</th>
          <th scope="col"> Tác vụ</th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        <% news.forEach(item => { %>
          <tr>
            <td class="text-truncate" style="max-width: 200px;">
              <strong><%= item.titles %></strong>
            </td>
            <td class="text-center">
              <img src="<%= item.Img %>" alt="Ảnh bài viết"
                   style="width: 90px; height: 60px; object-fit: cover;" class="rounded-3 shadow-sm border border-2" />
            </td>
            <td class="text-truncate" style="max-width: 280px;">
              <small><%- item.contents %></small>
            </td>
            <td class="text-center">
              <span class="badge bg-light text-dark border rounded-pill px-3 py-2 shadow-sm">
                <%= new Date(item.createAt._seconds * 1000).toLocaleDateString('vi-VN') %>
              </span>
            </td>
            <td class="text-center">
              <div class="dropdown">
                <button class="btn btn-light border shadow-sm" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="bi bi-three-dots-vertical"></i>
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li>
                    <a class="dropdown-item" href="/news/view/<%= item.id %>">
                      <i class="bi bi-eye-fill me-2 text-primary"></i>Xem chi tiết
                    </a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="/news/edit/<%= item.id %>">
                      <i class="bi bi-pencil-fill me-2 text-warning"></i>Sửa
                    </a>
                  </li>
                  <li>
                    <form action="/news/delete/<%= item.id %>" method="POST"
                          onsubmit="return confirm('Bạn có chắc chắn muốn xóa bài viết này?');">
                      <button class="dropdown-item text-danger" type="submit">
                        <i class="bi bi-trash-fill me-2"></i>Xóa
                      </button>
                    </form>
                  </li>
                </ul>
              </div>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
</div>

<!-- Bootstrap Icons (nếu chưa thêm) -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
